# A minimal Spring Boot project using Kotlin scripting

## Introduction

Running Kotlin scripts inside Spring Boot applications is a cool thing.

But it is very tricky to make it work inside SpringBoot fatjars.

## The problem
Kotlin cannot load classes from the fatjars.

Theoretically, a classloader can be configured for Kotlin scripting.

Unfortunately, this doesn't actually work because the implementation uses its own classloader.

## The solution
The workaround is to unpack the jars used by the scripts.

## Gradle vs. Maven
I migrated my project (ProjectForge) from *Maven* to *Gradle*. In principle, unpacking fatjars with maven is also possible, but it is incredibly more complicated.

After a few hours I decided to invest the time in migrating to Gradle. This was also time-consuming, but it paid off in the end.

## This project
This project contains sample code including a gradle setup that implements a minimal project with these requirements.

### Module: application
The Spring Boot application with gradle configuration to unpack the jars.

### Module: business
A simple module with a class that is used by the Kotlin script.

## How to run
Just run:

1. `./gradlew clean build`
2. `java -jar application/build/libs/application-0.0.1.jar`
3. See the output in the console.
4. Use CTRL+C to stop the application.
